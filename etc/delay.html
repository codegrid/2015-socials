<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>CodeGrid Social widgets Test</title>
<style>
body {
  text-align: center;
}
.item {
  width: 300px;
  height: 100px;
  color: #666;
  padding: 200px 0;
  border: 3px solid #ddd;
  margin: 20px auto;
  font-size: 24px;
}
</style>
<script src="../libs/eveeve.min.js"></script>
<script src="../libs/jquery-1.11.2.min.js"></script>
<script src="../libs/jquery.winenterwatcher.min.js"></script>
<script src="../libs/jquery.socialthings.min.js"></script>

<!-- Like Buttonのテンプレ -->
<script type="text/x-htmlsrc" id="likeButtonSrc">
<div><div
  class="fb-like"
  data-href="http://example.com"
  data-send="false"
  data-layout="button_count"
  data-width="118"
  data-show-faces="true"
></div></div>
</script>

<script>
// Facebook SDKを待機
window.fbAsyncInit = function() {
  $(function() {
  
    // Like Buttonのソースを準備
    var src = $('#likeButtonSrc').html();
    
    // 各アイテムについて処理
    $('.item').each(function(i, el) {
    
      var $el = $(el);
      
      // 要素を監視
      var watcher = new $.WinEnterWatcher(el);
      
      watcher.on('enter', function() { // 要素がページに入ったら
        $el.html(src); // Like ButtonのHTML追加
        FB.XFBML.parse(el); // Like Button化
        watcher.destroy(); // 監視終了
      });
      watcher.start();
      
    });
  });
};
</script>
</head>
<body>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>
<div class="item">NOT LOADED YET</div>

</body>
</html>
